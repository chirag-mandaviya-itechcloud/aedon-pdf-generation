<template>
    <template if:true={isLoading}>
        <lightning-spinner alternative-text="Loading PDF..."></lightning-spinner>
    </template>
    <template if:true={showIframe}>
        <div class="pdf-container">
            <iframe src={iframeUrl} width="100%" height="600px" frameborder="0" title="Invoice PDF">
            </iframe>
        </div>
    </template>
    <template if:false={showIframe}>
        <template if:false={isLoading}>
            <div class="slds-text-color_error">
                Unable to load PDF. Please check the invoice details.
            </div>
        </template>
    </template>
    <template if:true={showIframe}>
        <div style="text-align: end; margin: 10px;">
            <lightning-button variant="brand" label={sendButtonLabel} onclick={handleSendMail} disabled={isSendingEmail}
                class="slds-m-left_x-small"></lightning-button>
        </div>
    </template>
</template>
